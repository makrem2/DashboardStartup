<!-- Begin page -->
<div class="accountbg"></div>
<div class="home-btn d-none d-sm-block">
  <a routerLink="" class="text-white"><i class="fas fa-home h2"></i></a>
</div>
<div class="wrapper-page">
  <div class="card card-pages shadow-none">
    <div class="card-body" *ngIf="steps == 0">
      <div class="text-center m-t-0 m-b-15">
        <a routerLink="" class="logo logo-admin"
          ><img
            src="../../../assets/admin/images/logonoir.png"
            alt=""
            height="80"
        /></a>
      </div>
      <h5 class="font-18 text-center">S'inscrire pour continuer .</h5>

      <div *ngIf="spinnner" class="spinner-border text-primary" id="spinner" role="status">
        <span class="sr-only">Loading...</span>
      </div>
      
      <form *ngIf="!spinnner"
        class="form-horizontal m-t-30"
        #f="ngForm"
        (ngSubmit)="loginadmin(f)"
      >
        <div class="form-group">
          <div class="col-12">
            <label>Nom d'utilisateur</label>
            <input
              class="form-control"
              type="text"
              required=""
              placeholder="Username"
              name="username"
              #username="ngModel"
              ngModel
            />
          </div>
        </div>

        <div class="form-group">
          <div class="col-12">
            <label>Mot de passe</label>
            <input
            [type]="changetype?'password':'text'"
              class="form-control"
              type="password"
              required=""
              placeholder="Password"
              name="password"
              #password="ngModel"
              ngModel
            />
            <span class="eyeicon" (click)="viewpass()"><i [ngClass]="visible?'mdi mdi-eye':'mdi mdi-eye-off'"></i></span>
          </div>
        </div>
        <div class="form-group">
          <div class="col-12">
            <div class="checkbox checkbox-primary">
              <div class="custom-control custom-checkbox">
                <input
                  type="checkbox"
                  class="custom-control-input"
                  id="customCheck1"
                />
                <label class="custom-control-label" for="customCheck1">
                  Se souvenir de moi</label
                >
              </div>
            </div>
          </div>
        </div>
        <div class="form-group text-center m-t-20">
          <div class="col-12">
            <button
              class="btn btn-primary btn-block btn-lg waves-effect waves-light"
              [disabled]="f.invalid"
            >
              S'identifier
            </button>
          </div>
        </div>

        <div class="form-group row m-t-30 m-b-0">
          <div class="col-sm-7">
            <a routerLink="" class="text-muted" (click)="Next()"
              ><i class="fa fa-lock m-r-5"></i>Mot de passe oublié?</a
            >
          </div>
          <div class="col-sm-5 text-right">
            <!-- <a routerLink="" class="text-muted">Create an account</a> -->
          </div>
        </div>
      </form>
    </div>
    <div class="card-body" *ngIf="steps == 1">
      <div class="text-center m-t-0 m-b-15">
        <a routerLink="" class="logo logo-admin"
          ><img
            src="../../../assets/admin/images/logonoir.png"
            alt=""
            height="80"
        /></a>
      </div>
      <h5 class="font-18 text-center">Réinitialiser le mot de passe</h5>

      <form
        class="form-horizontal m-t-30"
        #c="ngForm"
        (ngSubmit)="checkEmail(c)"
      >
        <div class="col-12" *ngIf="c.invalid">
          <div class="alert alert-danger alert-dismissible">
            <button
              type="button"
              class="close"
              data-dismiss="alert"
              aria-hidden="true"
            >
              ×
            </button>
            Entrez votre <b>Email</b> et vous allez recevoir le code !
          </div>
        </div>

        <div class="form-group">
          <div class="col-12">
            <label>Email</label>
            <input
              class="form-control"
              type="text"
              required=""
              placeholder="Email"
              name="email"
              #email="ngModel"
              ngModel
            />
          </div>
        </div>

        <div class="form-group text-center m-t-20">
          <div class="col-12">
            <button
              class="btn btn-primary btn-block btn-lg waves-effect waves-light"
              [disabled]="c.invalid"
            >
            Envoyer un email
            </button>
          </div>
        </div>
      </form>
    </div>
    <div class="card-body" *ngIf="steps == 2">
      <div class="text-center m-t-0 m-b-15">
        <a routerLink="" class="logo logo-admin"
          ><img
            src="../../../assets/admin/images/logonoir.png"
            alt=""
            height="80"
        /></a>
      </div>
      <h5 class="font-18 text-center">Modifier votre mot de passe</h5>

      <form class="form-horizontal m-t-30"
      #r="ngForm"
      (ngSubmit)="resetPassword(r)">
        <div class="form-group">
          <div class="col-12">
            <label>Code Active</label>
            <input
              class="form-control"
              type="text"
              required=""
              placeholder="Code Active"
              name="code"
              #code="ngModel"
              ngModel
            />
          </div>
        </div>
        <div class="form-group">
          <div class="col-12">
            <label>Email</label>
            <input
              class="form-control"
              type="email"
              required=""
              placeholder="Email"
              name="email"
              #email="ngModel"
              ngModel
            />
          </div>
        </div>
        <div class="form-group">
          <div class="col-12">
            <label>Nouveau Mot de passe</label>
            <input
            [type]="changetype?'password':'text'"
              class="form-control"
              type="password"
              required=""
              placeholder="Mot de passe"
              name="password"
              #password="ngModel"
              ngModel
            />
            <span class="eyeicon" (click)="viewpass()"><i [ngClass]="visible?'mdi mdi-eye':'mdi mdi-eye-off'"></i></span>
          </div>
        </div>

        <div class="form-group text-center m-t-20">
          <div class="col-12">
            <button
              class="btn btn-primary btn-block btn-lg waves-effect waves-light"
              type="submit" [disabled]="r.invalid"
            >
            Modifier votre mot de passe
            </button>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
<!-- END wrapper -->
